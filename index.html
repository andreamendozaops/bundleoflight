<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memory Game</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
<style>
:root {
    --bg: #f0f4ff;
    --surface: #ffffff;
    --card-back: #dce6ff;
    --accent1: #ff6b6b;
    --accent2: #e0a800;
    --accent3: #28a745;
    --accent4: #007bff;
    --text: #1a1a2e;
    --subtext: #666888;
    --glow: rgba(255, 107, 107, 0.4);
}

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    min-height: 100vh;
    font-family: 'Nunito', sans-serif;
    color: var(--text);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 24px 16px;
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: 
      radial-gradient(ellipse 80% 50% at 20% 0%, rgba(77, 150, 255, 0.08) 0%, transparent 60%),
      radial-gradient(ellipse 60% 40% at 80% 100%, rgba(255, 107, 107, 0.07) 0%, transparent 60%);
    pointer-events: none;
    z-index: 0;
  }

  .wrapper { position: relative; z-index: 1; width: 100%; max-width: 620px; }

  header { text-align: center; margin-bottom: 28px; }

  h1 {
    font-family: 'Press Start 2P', monospace;
    font-size: clamp(16px, 4vw, 24px);
    color: var(--accent2);

    letter-spacing: 2px;
    margin-bottom: 6px;
    line-height: 1.6;
  }

  .tagline {
    font-size: 13px;
    color: var(--subtext);
    letter-spacing: 1px;
  }

  .stats {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-bottom: 24px;
    flex-wrap: wrap;
  }

  .stat-box {
    background: var(--surface);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 12px;
    padding: 10px 18px;
    text-align: center;
    min-width: 90px;
    transition: transform 0.2s;
  }

  .stat-box:hover { transform: translateY(-2px); }

  .stat-label {
    font-family: 'Press Start 2P', monospace;
    font-size: 7px;
    color: var(--subtext);
    letter-spacing: 1px;
    margin-bottom: 4px;
  }

  .stat-value {
    font-size: 22px;
    font-weight: 900;
    color: var(--text);
  }

  .stat-value.timer { color: var(--accent4); }
  .stat-value.moves { color: var(--accent3); }
  .stat-value.best  { color: var(--accent2); }

  .grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin-bottom: 24px;
  }

  .card {
    aspect-ratio: 1;
    cursor: pointer;
    perspective: 800px;
    border-radius: 12px;
  }

  .card-inner {
    width: 100%; height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.45s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 12px;
  }

  .card.flipped .card-inner { transform: rotateY(180deg); }

  .card-face {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: clamp(24px, 8vw, 38px);
    user-select: none;
  }

  .card-back {
    background: var(--card-back);
    border: 2px solid rgba(255,255,255,0.06);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.08);
    transition: background 0.2s, border-color 0.2s;
  }

  .card-back::after {
    content: '?';
    font-family: 'Press Start 2P', monospace;
    font-size: clamp(14px, 5vw, 20px);
    color: rgba(255,255,255,0.15);
  }

  .card:not(.flipped):not(.matched):hover .card-back {
    background: #c8d8ff;
    border-color: rgba(255,255,255,0.15);
  }

  .card-front {
    transform: rotateY(180deg);
    background: #ffffff;
    border: 2px solid rgba(255,255,255,0.1);
    box-shadow: 0 4px 20px rgba(0,0,0,0.4);
  }

  .card.matched .card-inner {
    animation: matchPop 0.4s ease forwards;
  }

  .card.matched .card-front {
    border-color: var(--accent3);
    box-shadow: 0 0 16px rgba(107, 203, 119, 0.4);
    background: rgba(107, 203, 119, 0.08);
  }

  .card.shake .card-inner {
    animation: shake 0.4s ease;
  }

  @keyframes matchPop {
    0%   { transform: rotateY(180deg) scale(1); }
    50%  { transform: rotateY(180deg) scale(1.12); }
    100% { transform: rotateY(180deg) scale(1); }
  }

  @keyframes shake {
    0%, 100% { transform: rotateY(180deg) translateX(0); }
    25%       { transform: rotateY(180deg) translateX(-6px); }
    75%       { transform: rotateY(180deg) translateX(6px); }
  }

  .controls { display: flex; gap: 12px; justify-content: center; }

  button {
    font-family: 'Press Start 2P', monospace;
    font-size: 9px;
    padding: 12px 20px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    letter-spacing: 1px;
    transition: transform 0.1s, box-shadow 0.1s;
  }

  button:active { transform: translateY(2px); box-shadow: none !important; }

  .btn-new {
    background: var(--accent1);
    color: #fff;
    box-shadow: 0 4px 0 #c0392b, 0 6px 20px rgba(255,107,107,0.3);
  }

  .btn-new:hover { box-shadow: 0 6px 0 #c0392b, 0 8px 24px rgba(255,107,107,0.4); transform: translateY(-2px); }

  .overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.75);
    backdrop-filter: blur(6px);
    z-index: 100;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    text-align: center;
    padding: 20px;
  }

  .overlay.show { display: flex; animation: fadeIn 0.4s ease; }

  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

  .win-card {
    background: var(--surface);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 20px;
    padding: 40px 48px;
    max-width: 380px;
    width: 100%;
    box-shadow: 0 20px 60px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,217,61,0.2);
  }

  .win-emoji { font-size: 64px; margin-bottom: 16px; display: block; animation: bounce 0.8s ease infinite alternate; }
  @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-10px); } }

  .win-title {
    font-family: 'Press Start 2P', monospace;
    font-size: 16px;
    color: var(--accent2);

    margin-bottom: 20px;
    line-height: 1.8;
  }

  .win-stats { display: flex; gap: 12px; justify-content: center; margin-bottom: 28px; flex-wrap: wrap; }

  .win-stat {
    background: rgba(255,255,255,0.05);
    border-radius: 10px;
    padding: 10px 16px;
    min-width: 80px;
  }

  .win-stat-label { font-size: 10px; color: var(--subtext); margin-bottom: 4px; }
  .win-stat-value { font-size: 20px; font-weight: 900; }

  .new-best {
    font-family: 'Press Start 2P', monospace;
    font-size: 9px;
    color: var(--accent3);
    margin-bottom: 20px;
    letter-spacing: 1px;
    animation: pulse 1s ease infinite alternate;
  }
  @keyframes pulse { from { opacity: 0.6; } to { opacity: 1; } }
</style>
</head>
<body>
<div class="wrapper">
  <header>
    <h1>MEMORY</h1>
    <p class="tagline">Find all matching pairs to reveal a surprise!</p>
  </header>

  <div class="stats">
    <div class="stat-box">
      <div class="stat-label">TIME</div>
      <div class="stat-value timer" id="timer">0:00</div>
    </div>
    <div class="stat-box">
      <div class="stat-label">MOVES</div>
      <div class="stat-value moves" id="moves">0</div>
    </div>
    <div class="stat-box">
      <div class="stat-label">PAIRS</div>
      <div class="stat-value" id="pairs">0/8</div>
    </div>
    <div class="stat-box">
      <div class="stat-label">BEST</div>
      <div class="stat-value best" id="best">--</div>
    </div>
  </div>

  <div class="grid" id="grid"></div>

  <div class="controls">
    <button class="btn-new" onclick="newGame()">NEW GAME</button>
  </div>
</div>

<div class="overlay" id="winOverlay">
  <div class="win-card">
    <span class="win-emoji">üéâ</span>
    <div class="win-title" style="color:#007bff;">IT'S A BOY!</div>
    <div class="win-stats">
      <div class="win-stat">
        <div class="win-stat-label">Time</div>
        <div class="win-stat-value" id="winTime" style="color:var(--accent4)">-</div>
      </div>
      <div class="win-stat">
        <div class="win-stat-label">Moves</div>
        <div class="win-stat-value" id="winMoves" style="color:var(--accent3)">-</div>
      </div>
    </div>
    <div class="new-best" id="newBest" style="display:none">‚≠ê NEW BEST SCORE! ‚≠ê</div>
    <button class="btn-new" onclick="newGame(); closeOverlay()">PLAY AGAIN</button>
  </div>
</div>

<script>
const EMOJIS = ['üê£','üçº','üß∏','üç≠','‚ú®','üê£','üåô','üéÄ','üõÅ','üß∑','üéÅ','üé†','üêò','ü¶ã','üç¨','üë©‚Äçüçº','üé∂','üåü','üáÆüáπ','üáªüá™'];

let cards = [], flipped = [], matched = 0, moves = 0;
let timerInterval, seconds = 0, gameStarted = false, locked = false;
let bestMoves = parseInt(localStorage.getItem('memBest') || '0') || null;

function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function formatTime(s) {
  return `${Math.floor(s/60)}:${String(s%60).padStart(2,'0')}`;
}

function updateBestDisplay() {
  document.getElementById('best').textContent = bestMoves ? `${bestMoves}` : '--';
}

function newGame() {
  clearInterval(timerInterval);
  seconds = 0; moves = 0; matched = 0; flipped = []; locked = false; gameStarted = false;
  document.getElementById('timer').textContent = '0:00';
  document.getElementById('moves').textContent = '0';
  document.getElementById('pairs').textContent = '0/8';
  updateBestDisplay();

  const chosen = shuffle(EMOJIS).slice(0, 8);
  cards = shuffle([...chosen, ...chosen]);
  renderGrid();
}

function renderGrid() {
  const grid = document.getElementById('grid');
  grid.innerHTML = '';
  cards.forEach((emoji, i) => {
    const card = document.createElement('div');
    card.className = 'card';
    card.dataset.index = i;
    card.dataset.emoji = emoji;
    card.innerHTML = `<div class="card-inner">
      <div class="card-face card-back"></div>
      <div class="card-face card-front">${emoji}</div>
    </div>`;
    card.addEventListener('click', () => flipCard(card));
    grid.appendChild(card);
  });
}

function flipCard(card) {
  if (locked || card.classList.contains('flipped') || card.classList.contains('matched')) return;

  if (!gameStarted) {
    gameStarted = true;
    timerInterval = setInterval(() => {
      seconds++;
      document.getElementById('timer').textContent = formatTime(seconds);
    }, 1000);
  }

  card.classList.add('flipped');
  flipped.push(card);

  if (flipped.length === 2) {
    locked = true;
    moves++;
    document.getElementById('moves').textContent = moves;

    const [a, b] = flipped;
    if (a.dataset.emoji === b.dataset.emoji) {
      setTimeout(() => {
        a.classList.add('matched');
        b.classList.add('matched');
        matched++;
        document.getElementById('pairs').textContent = `${matched}/8`;
        flipped = [];
        locked = false;
        if (matched === 8) onWin();
      }, 300);
    } else {
      setTimeout(() => {
        a.classList.add('shake');
        b.classList.add('shake');
        setTimeout(() => {
          a.classList.remove('flipped', 'shake');
          b.classList.remove('flipped', 'shake');
          flipped = [];
          locked = false;
        }, 400);
      }, 700);
    }
  }
}

function onWin() {
  clearInterval(timerInterval);
  const isNewBest = !bestMoves || moves < bestMoves;
  if (isNewBest) {
    bestMoves = moves;
    localStorage.setItem('memBest', moves);
    updateBestDisplay();
  }
  document.getElementById('winTime').textContent = formatTime(seconds);
  document.getElementById('winMoves').textContent = moves;
  document.getElementById('newBest').style.display = isNewBest ? 'block' : 'none';
  document.getElementById('winOverlay').classList.add('show');
}

function closeOverlay() {
  document.getElementById('winOverlay').classList.remove('show');
}

newGame();
</script>
</body>
</html>
